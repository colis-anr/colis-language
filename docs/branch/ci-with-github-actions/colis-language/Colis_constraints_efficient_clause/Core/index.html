<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core (colis-language.Colis_constraints_efficient_clause.Core)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">colis-language</a> &#x00BB; <a href="../index.html">Colis_constraints_efficient_clause</a> &#x00BB; Core</nav><h1>Module <code>Colis_constraints_efficient_clause.Core</code></h1><nav class="toc"><ul><li><a href="#core">Core</a><ul><li><a href="#information">Information</a></li><li><a href="#main-structure">Main Structure</a></li><li><a href="#variables-and-information">Variables and information</a><ul><li><a href="#sims">sims</a></li><li><a href="#nsims">nsims</a></li></ul></li><li><a href="#garbage-collection">Garbage Collection</a></li><li><a href="#should-disappear">Should Disappear</a></li></ul></li></ul></nav></header><section><header><h2 id="core"><a href="#core" class="anchor"></a>Core</h2></header><dl><dt class="spec type" id="type-var"><a href="#type-var" class="anchor"></a><code><span class="keyword">type</span> var</code></dt><dd><p>Type of the variables.</p></dd></dl><div class="spec module" id="module-VarSet"><a href="#module-VarSet" class="anchor"></a><code><span class="keyword">module</span> VarSet : Stdlib.Set.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-VarSet">VarSet</a>.elt = <a href="index.html#type-var">var</a></code></div><section><header><h3 id="information"><a href="#information" class="anchor"></a>Information</h3></header><div class="spec module" id="module-Info"><a href="#module-Info" class="anchor"></a><code><span class="keyword">module</span> <a href="Info/index.html">Info</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="main-structure"><a href="#main-structure" class="anchor"></a>Main Structure</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Type of an irreducible existential clause.</p></dd></dl><dl><dt class="spec value" id="val-to_yojson"><a href="#val-to_yojson" class="anchor"></a><code><span class="keyword">val</span> to_yojson : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Yojson.Safe.t</code></dt><dt class="spec value" id="val-of_yojson"><a href="#val-of_yojson" class="anchor"></a><code><span class="keyword">val</span> of_yojson : Yojson.Safe.t <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Ppx_deriving_yojson_runtime.error_or</span></code></dt><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>Empty existential clause. That is, &quot;true&quot;.</p></dd></dl></section><section><header><h3 id="variables-and-information"><a href="#variables-and-information" class="anchor"></a>Variables and information</h3></header><dl><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-syntactic_compare"><a href="#val-syntactic_compare" class="anchor"></a><code><span class="keyword">val</span> syntactic_compare : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Comparison not in the structure but syntactically. Implies equality in the structure.</p></dd></dl><dl><dt class="spec value" id="val-identify"><a href="#val-identify" class="anchor"></a><code><span class="keyword">val</span> identify : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <span>(<a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Identify two variables. After that, they are &quot;equal&quot; in the structure. The function talking about infos is here to tell to the structure how to merge the info of the two variables.</p></dd></dl><dl><dt class="spec value" id="val-fresh_var"><a href="#val-fresh_var" class="anchor"></a><code><span class="keyword">val</span> fresh_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> * <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-internalise"><a href="#val-internalise" class="anchor"></a><code><span class="keyword">val</span> internalise : <a href="../../Colis_constraints_common/Var/index.html#type-t">Colis_constraints_common.Var.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> * <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-externalise"><a href="#val-externalise" class="anchor"></a><code><span class="keyword">val</span> externalise : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Colis_constraints_common/Var/index.html#type-t">Colis_constraints_common.Var.t</a> list</span></code></dt><dd><p>Returns the (possibly empty) list of external variables mapping to that particular (not up to equality) internal variable.</p></dd></dl><dl><dt class="spec value" id="val-fold_globals"><a href="#val-fold_globals" class="anchor"></a><code><span class="keyword">val</span> fold_globals : <span>(<a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-quantify_over"><a href="#val-quantify_over" class="anchor"></a><code><span class="keyword">val</span> quantify_over : <a href="../../Colis_constraints_common/Var/index.html#type-t">Colis_constraints_common.Var.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-is_shadow"><a href="#val-is_shadow" class="anchor"></a><code><span class="keyword">val</span> is_shadow : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-get_info"><a href="#val-get_info" class="anchor"></a><code><span class="keyword">val</span> get_info : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a></code></dt><dd><p><code>get_info x c</code> returns the information associated with variable <code>x</code> in clause <code>c</code>, after having updated the <code>shadow</code> field.</p></dd></dl><dl><dt class="spec value" id="val-get_info_no_shadow"><a href="#val-get_info_no_shadow" class="anchor"></a><code><span class="keyword">val</span> get_info_no_shadow : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a></code></dt><dd><p>Same as <code>get_info</code> but does not update the <code>shadow</code> field.</p></dd></dl><dl><dt class="spec value" id="val-set_info"><a href="#val-set_info" class="anchor"></a><code><span class="keyword">val</span> set_info : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-update_info"><a href="#val-update_info" class="anchor"></a><code><span class="keyword">val</span> update_info : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(<a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Equivalent to <code>get_info x c |&gt; f |&gt; set_info x c</code>.</p></dd></dl><dl><dt class="spec value" id="val-filter_infos"><a href="#val-filter_infos" class="anchor"></a><code><span class="keyword">val</span> filter_infos : <span>(<a href="index.html#type-var">var</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fold_infos"><a href="#val-fold_infos" class="anchor"></a><code><span class="keyword">val</span> fold_infos : <span>(<a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_infos f c e</code> computes <code>f</code> in order for all variables and associated informations in the all clause <code>c</code>, passing the result to the next computation. This does not update the <code>shadow</code> field.</p></dd></dl><dl><dt class="spec value" id="val-iter_infos"><a href="#val-iter_infos" class="anchor"></a><code><span class="keyword">val</span> iter_infos : <span>(<a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-iter_equalities"><a href="#val-iter_equalities" class="anchor"></a><code><span class="keyword">val</span> iter_equalities : <span>(<a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl><section><header><h4 id="sims"><a href="#sims" class="anchor"></a>sims</h4></header><dl><dt class="spec value" id="val-remove_sim"><a href="#val-remove_sim" class="anchor"></a><code><span class="keyword">val</span> remove_sim : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a></code></dt><dd><p><code>remove_sim y c info</code> removes all references to variables equal to <code>y</code> (wrt. structure <code>c</code>) in <code>info</code>.</p></dd></dl><dl><dt class="spec value" id="val-update_sim"><a href="#val-update_sim" class="anchor"></a><code><span class="keyword">val</span> update_sim : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <span>(<span><a href="../../Colis_constraints_common__Feat/index.html#module-Set">Colis_constraints_common.Feat.Set</a>.t option</span> <span>&#45;&gt;</span> <a href="../../Colis_constraints_common__Feat/index.html#module-Set">Colis_constraints_common.Feat.Set</a>.t)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a></code></dt><dd><p><code>update_sim y f c info</code> updates the sims in <code>info</code> by calling <code>f None</code> if there is no sim for <code>y</code> or <code>Some gs</code> if there is a sim <code>~gs y</code>.</p></dd></dl><dl><dt class="spec value" id="val-update_info_for_all_similarities"><a href="#val-update_info_for_all_similarities" class="anchor"></a><code><span class="keyword">val</span> update_info_for_all_similarities : <span>(<a href="../../Colis_constraints_common__Feat/index.html#module-Set">Colis_constraints_common.Feat.Set</a>.t <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Info/index.html#type-t">Info.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>update_info_for_all_similarities upd x info</code> takes a clause and applies the <code>upd</code> function to all the info records of variables that are similar to the given info (including it).</p></dd></dl></section><section><header><h4 id="nsims"><a href="#nsims" class="anchor"></a>nsims</h4></header><dl><dt class="spec value" id="val-remove_nsims"><a href="#val-remove_nsims" class="anchor"></a><code><span class="keyword">val</span> remove_nsims : <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Remove all nsims in the given <code>info</code>.</p></dd></dl></section></section><section><header><h3 id="garbage-collection"><a href="#garbage-collection" class="anchor"></a>Garbage Collection</h3></header><dl><dt class="spec value" id="val-simplify"><a href="#val-simplify" class="anchor"></a><code><span class="keyword">val</span> simplify : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Removes all variables that are not accessible from the globals.</p></dd></dl><dl><dt class="spec value" id="val-with_shadow_variables"><a href="#val-with_shadow_variables" class="anchor"></a><code><span class="keyword">val</span> with_shadow_variables : <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_initial f</code> runs <code>f</code> in an environment where all new variables are declared to be shadow.</p></dd></dl></section><section><header><h3 id="should-disappear"><a href="#should-disappear" class="anchor"></a>Should Disappear</h3><p>FIXME</p></header><dl><dt class="spec value" id="val-not_implemented"><a href="#val-not_implemented" class="anchor"></a><code><span class="keyword">val</span> not_implemented : string <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-pp_debug"><a href="#val-pp_debug" class="anchor"></a><code><span class="keyword">val</span> pp_debug : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl></section></section></div></body></html>